<form [formGroup]="form" class="flex flex-col gap-4">
  <h5 class="text-secondary font-bold">Documento de identidad</h5>

  <!-- START: Document Type Field -->
  <div class="form-control">
    <select placeholder=" " formControlName="documentTypeId" required>
      <option [ngValue]="undefined" selected hidden disabled>
        Tipo de Documento
      </option>
      @for (docType of documentTypes(); track $index) {
      <option [ngValue]="docType.id">{{ docType.description }}</option>
      }
    </select>
    <label>Tipo de documento</label>
    <app-form-error [control]="form.controls.documentTypeId" />
  </div>
  <!-- END: Document Type Field -->

  <!-- START: Document Field -->
  <div class="form-control">
    <input type="number" formControlName="document" placeholder=" " />
    <label>Número de documento</label>
    <app-form-error [control]="form.controls.document" />
  </div>
  <!-- END: Document Field -->

  <!-- START: Document Expedition Date Field -->
  <div class="form-control">
    <input
      type="text"
      readonly
      formControlName="documentDate"
      placeholder=""
      (click)="expDate.showPicker()"
    />
    <label>Fecha expedición del documento</label>
    <input
      #expDate
      tabindex="-1"
      class="h-0 m-0 !p-0 border-0"
      type="date"
      ngModel
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="expeditionDateChange($event)"
    />
    <app-form-error [control]="form.controls.documentDate" />
  </div>
  <!-- END: Document Expedition Date Field -->

  <!-- START: Birth Date Field -->
  <div class="form-control">
    <input
      type="text"
      readonly
      formControlName="birthDate"
      placeholder=""
      (click)="birthDate.showPicker()"
    />
    <label>Fecha expedición del documento</label>
    <input
      #birthDate
      tabindex="-1"
      class="h-0 m-0 !p-0 border-0"
      type="date"
      ngModel
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="birthDateChange($event)"
    />
    <app-form-error [control]="form.controls.birthDate" />
  </div>
  <!-- END: Birth Date Field -->

  <!-- START: Gender Field -->
  <div class="form-control">
    <select type="number" formControlName="genderId" placeholder=" " required>
      @for (gender of genders(); track $index) {
      <option [value]="gender.id">{{ gender.description }}</option>
      }
    </select>
    <label>Genero</label>
    <app-form-error [control]="form.controls.genderId" />
  </div>
  <!-- END: Gender Field -->

  <h5 class="text-secondary font-bold">Configura tu cuenta</h5>

  <!-- START: Email Field -->
  <div class="form-control">
    <input type="text" formControlName="email" placeholder=" " />
    <label>Correo electrónico</label>
    <app-form-error [control]="form.controls.email" />
  </div>
  <!-- END: Email Field -->

  <!-- START: Email confirm Field -->
  <div class="form-control">
    <input type="text" formControlName="emailConfirm" placeholder=" " />
    <label>Confirmar correo electrónico</label>
    <app-form-error [control]="form.controls.emailConfirm" />
  </div>
  <!-- END: Email confirm Field -->

  <!-- START: Pin Field -->
  <div class="form-control">
    <div
      class="absolute grid w-5 h-5 place-items-center text-blue-gray-500 top-1/4 right-3 -translate-y-1/4 cursor-pointer"
    >
      <span
        class="material-symbols-outlined"
        (click)="pin.type = pin.type === 'number' ? 'password' : 'number'"
      >
        {{ pin.type === 'password' ? 'visibility' : 'visibility_off' }}
      </span>
    </div>

    <input
      #pin
      type="password"
      formControlName="pin"
      placeholder=" "
      inputmode="numeric"
      pattern="[0-9]*"
    />
    <label>PIN de seguridad</label>
    <app-form-error [control]="form.controls.pin" />
  </div>
  <!-- END: Pin Field -->

  <!-- START: Pin confirm Field -->
  <div class="form-control">
    <div
      class="absolute grid w-5 h-5 place-items-center text-blue-gray-500 top-1/4 right-3 -translate-y-1/4 cursor-pointer"
    >
      <span
        class="material-symbols-outlined"
        (click)="
          pinConfirm.type = pinConfirm.type === 'number' ? 'password' : 'number'
        "
      >
        {{ pinConfirm.type === 'password' ? 'visibility' : 'visibility_off' }}
      </span>
    </div>

    <input
      #pinConfirm
      type="password"
      formControlName="pinConfirm"
      placeholder=" "
      inputmode="numeric"
      pattern="[0-9]*"
    />
    <label>Confirmar PIN de seguridad</label>
    <app-form-error [control]="form.controls.pinConfirm" />
  </div>
  <!-- END: Pin confirm Field -->

  <button type="submit" (click)="onSubmit()" class="mt-12 mb-12 btn-primary">
    SIGUIENTE
  </button>
</form>
